'''
Entries used to simulate log repair:

    s = if s.server_num != 1 do
      entry = %{1 => %{request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}}, term: 1},
                2 => %{request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}}, term: 2},
                3 => %{ request: %{cid: {4, 4},clientP: 0, cmd: {:MOVE, 635, 99, 65}}, term: 3}}
      Log.merge_entries(s, entry)
    else
      entry = %{1 => %{request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}}, term: 1},
                2 => %{request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}}, term: 2},
                3 => %{request: %{cid: {5, 5}, clientP: 0, cmd: {:MOVE, 635, 99, 65}}, term: 2},
                4 => %{request: %{cid: {6, 6}, clientP: 0, cmd: {:MOVE, 635, 99, 65}}, term: 2},
                5 => %{request: %{cid: {6, 6}, clientP: 0, cmd: {:MOVE, 635, 99, 65}}, term: 2}}
      Log.merge_entries(s, entry)
    end # if

Parameters: 
'''

monitor spawned
server 1 starts
server 2 starts
db spawned
servers binded
server 3 starts
client spawned
Server 1's logs: %{
  1 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 1
  },
  2 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 2
  },
  3 => %{
    request: %{cid: {5, 5}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 2
  },
  4 => %{
    request: %{cid: {6, 6}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 2
  },
  5 => %{
    request: %{cid: {6, 6}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 2
  }
}

Server 2's logs: %{
  1 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 1
  },
  2 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 2
  },
  3 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 3
  }
}

Server 3's logs: %{
  1 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 1
  },
  2 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 2
  },
  3 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 3
  }
}

Server 1 Election Timeout - START
Server 1 runs for candidate
Server 2 Election Timeout - START
Server 2 runs for candidate
Server 3 stepdown at receiving vote request
Server 3 voted for Server 2 in term 2
Server 2 received Server 3's vote reply. Processing.
Processed vote from Server 3 for Server 2
New leader elected! Server 2 is leader for Term 2

New leader's log: %{
  1 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 1
  },
  2 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 2
  },
  3 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 3
  }
}

Server 1's logs after delete_entries_from: %{
  1 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 1
  },
  2 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 2
  }
}

Server 3's logs after storeEntries: %{
  1 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 1
  },
  2 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 2
  },
  3 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 3
  },
  4 => %{
    request: %{cid: {1, 1}, clientP: #PID<18533.147.0>, cmd: {:MOVE, 388, 7, 3}},
    term: 2
  }
}

Server 1's logs after storeEntries: %{
  1 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 1
  },
  2 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 2
  },
  3 => %{
    request: %{cid: {4, 4}, clientP: 0, cmd: {:MOVE, 635, 99, 65}},
    term: 3
  },
  4 => %{
    request: %{cid: {1, 1}, clientP: #PID<18495.147.0>, cmd: {:MOVE, 388, 7, 3}},
    term: 2
  }
}
already updated. Server 3's logs stay the same 